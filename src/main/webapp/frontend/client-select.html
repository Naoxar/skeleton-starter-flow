<div hidden="" by-polymer-bundler=""><dom-module id="client-select" assetpath="">
  <template>

    <style>
      :host {
        display: inline-block;
      }
    </style>
    <slot></slot>
  </template>
  <script>"use strict";

var ClientSelect = function (_Polymer$Element) {
  babelHelpers.inherits(ClientSelect, _Polymer$Element);

  function ClientSelect() {
    babelHelpers.classCallCheck(this, ClientSelect);
    return babelHelpers.possibleConstructorReturn(this, (ClientSelect.__proto__ || Object.getPrototypeOf(ClientSelect)).apply(this, arguments));
  }

  babelHelpers.createClass(ClientSelect, [{
    key: "_sync_show",
    value: function _sync_show(newValue, oldValue) {
      this._sync('show', newValue);
    }
  }, {
    key: "_sync",
    value: function _sync(property, newValue) {
      if (this.$server) {
        if (!this._propertyUpdatedFromServer[property]) {
          this.$server.sync(property, newValue);
        } else {
          this._propertyUpdatedFromServer[property] = false;
        }
      }
    }
  }, {
    key: "_updatePropertyFromServer",
    value: function _updatePropertyFromServer(property, newValue) {
      if (this.__proto__.hasOwnProperty(property)) {
        this._propertyUpdatedFromServer[property] = true;
        this[property] = newValue;
      }
    }
  }, {
    key: "connectedCallback",
    value: function connectedCallback() {
      babelHelpers.get(ClientSelect.prototype.__proto__ || Object.getPrototypeOf(ClientSelect.prototype), "connectedCallback", this).call(this);

      var flowRoot = document.body;
      if (!this.$.id) {
        this._registerElement();
      } else if (flowRoot && flowRoot.$server) {
        this.$server.reconnect();
      }

      console.log('connected', this);
    }
  }, {
    key: "_registerElement",
    value: function _registerElement() {
      var _this2 = this;

      this.$.id = "ClientSelect-" + ClientSelect.id++;

      // Needed to make Flow do lookup correctly
      var poller = function poller() {
        var flowRoot = document.body;
        if (flowRoot && flowRoot.$server) {
          flowRoot.$ = flowRoot.$ || {};
          flowRoot.$[_this2.$.id] = _this2;
          flowRoot.$server.connectWebComponent('client-select', _this2.$.id);
        } else {
          setTimeout(poller, 10);
        }
      };

      poller();
    }
  }, {
    key: "disconnectedCallback",
    value: function disconnectedCallback() {
        console.error('xxxxx '+this.$server);
      this.$server.disconnected();

      console.log('disconnected', this);
    }
  }, {
    key: "serverConnected",
    value: function serverConnected() {
      var _this3 = this;

      Object.keys(ClientSelect.properties).forEach(function (prop) {
        if (prop !== "_propertyUpdatedFromServer") {
          _this3._sync(prop, _this3[prop]);
        }
      });
    }
  }], [{
    key: "is",
    get: function get() {
      return 'client-select';
    }
  }, {
    key: "properties",
    get: function get() {
      return Object.assign({}, { "show": { "type": "Boolean", "value": false, "observer": "_sync_show", "notify": true, "reflectToAttribute": false } }, {
        _propertyUpdatedFromServer: {
          type: Object,
          notify: false,
          value: {}
        }
      });
    }
  }]);
  return ClientSelect;
}(Polymer.Element);

ClientSelect.id = 0;

customElements.define(ClientSelect.is, ClientSelect);</script>
</dom-module></div>